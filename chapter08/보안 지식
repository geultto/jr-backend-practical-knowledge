1. 인증(Authentication)과 인가(Authorization)
    1.1. 인증/인가 시스템의 분리의 장점
    전문성 강화 및 보안 집중
     - 보안 전문가가 있는 **전담 팀(IE/회원팀)**이 인증 로직을 관리하므로, 최신 보안 위협에 대한 대응과 로직의 신뢰성을 높일 수 있다.

    느슨한 결합(Decoupling)
     - 메인 서비스는 인증 서비스의 API 규격만 알면 된다. 인증 방식이 세션에서 토큰으로 바뀌든, 토큰 암호화 방식이 바뀌든 메인 서비스의 운영 로직에는 영향을 주지 않는다.

    확장성(Scalability)
     - 메인 서비스가 수백 대의 서버로 확장되더라도, 인증 시스템에서 발급된 토큰만 유효하다면 별도의 상태 공유 없이 수평 확장이 가능하다.

    1.2. 인가(Authorization)의 중요성
    분리된 시스템에서 **인증(로그인)**은 성공했더라도, 토큰을 통해 확보한 **인가(권한 확인)**는 중요하다.

    토큰을 이용한 인증
     - 토큰 검증을 통해 어떤 사용자인지 확인한다.

    인가
     - 당신이 접근할 권한을 가지고 있는지 Role를 조회한다.

2. 게이트웨이(Gateway) 활용하여 내부끼리의 호출은 모두 차단.
    직접 호출을 막는 대신, 모든 서비스 간 호출은 게이트웨이 또는 특정 도메인을 경유하도록 통신 경로를 일원화했다.

    게이트웨이의 역할
     - 모든 내부 트래픽이 통과하는 단일 검문소 역할을 한다.

    구현 방식
     - 새로운 도메인/게이트웨이 구축: 특정 도메인을 만들거나 API 게이트웨이를 구축하여 이 경로로만 트래픽이 들어오도록 설정한다.
     - 서버-투-서버로만 방화벽 해제 및 접근

3. 감사 로그 남기기 (Audit Log)
    로그는 **육하원칙 (누가, 언제, 어디서, 무엇을, 어떻게, 왜)**에 따라 추적 가능하도록 상세히 기록해야 한다. 기록된 로그는 수정하지 못한다.

    감사 로그는 빈번하게 발생하지만, 로그를 남기는 작업이 메인 비즈니스 로직의 성능에 영향을 주어서는 안 된다. 따라서 비동기 처리와 별도 테이블 분리를 통해 부하를 최소화한다.

    비동기 처리
     - 로그를 남기는 작업을 별도의 스레드, 스레드 풀, 또는 메시징 시스템을 이용한 비동기 방식으로 분리한다. 
       이 방식으로 메인 서비스 로직이 로그 저장 완료를 기다리지 않고 다음 작업을 진행하게 하여, 서비스 응답 지연을 방지한다.

    로그를 비동기로 처리할 때는 이전에 논의했던 비동기 방식의 단점에 유의해야 한다.

    오류 처리
     - 비동기 로그 저장 작업이 실패하더라도, 메인 트랜잭션은 롤백되지 않는다. 
    따라서 로그 저장 스레드 내부에서 로그 유실을 막기 위한 재시도 로직이나 오류 로깅을 구현하여 로그 유실을 최소화해야 한다.

    트랜잭션 일관성
     - 감사 로그는 메인 트랜잭션이 성공적으로 커밋된 후에만 저장되도록 설계해야 한다. 업무 로직이 롤백되었는데 로그만 남는다면 로그의 신뢰성이 떨어진다.
